<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GoblinReach.Live</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');
        body { 
            background: #0a0a1a; 
            color: #e0e0ff; 
            font-family: 'Lato', sans-serif; 
            margin: 0; 
            padding: 10px; 
            overflow: hidden; 
            position: relative;
        }
        canvas { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            z-index: -1; 
            opacity: 0.6; 
        }
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            display: flex; 
            gap: 15px; 
            position: relative; 
            z-index: 1; 
        }
        .left-panel, .right-panel { 
            background: rgba(15, 15, 30, 0.9); 
            border: 3px solid #00ff99; 
            padding: 20px; 
            border-radius: 12px; 
            box-shadow: 0 0 15px rgba(0, 255, 153, 0.7); 
        }
        .left-panel { flex: 0.9; }
        .right-panel { flex: 1.8; }
        @media (max-width: 480px) {
            .container { flex-direction: column; gap: 10px; }
            .left-panel, .right-panel { flex: 1; padding: 15px; }
        }
        h1, h2 { color: #00ff99; margin: 0 0 12px; text-transform: uppercase; letter-spacing: 1px; }
        .price { 
            background: linear-gradient(135deg, #00ff99, #00cc77); 
            color: #0a0a1a; 
            padding: 15px; 
            border-radius: 8px; 
            font-weight: 700; 
            text-align: center; 
            box-shadow: inset 0 0 8px rgba(0, 255, 153, 0.5); 
        }
        .stats { 
            display: flex; 
            justify-content: space-between; 
            margin: 20px 0; 
        }
        .stat { 
            background: linear-gradient(45deg, #1a1a33, #2a2a44); 
            padding: 12px; 
            border-radius: 6px; 
            text-align: center; 
            flex: 1; 
            margin: 0 8px; 
            box-shadow: 0 0 4px rgba(0, 255, 153, 0.3); 
            font-size: 1em; 
        }
        button { 
            background: #00ff99; 
            color: #0a0a1a; 
            padding: 12px 24px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            font-weight: 700; 
            width: 100%; 
            font-size: 1em; 
            text-transform: uppercase; 
        }
        button:hover { background: #00cc77; }
        button:disabled { background: #666; cursor: not-allowed; }
        .input-group { margin: 15px 0; }
        input, textarea, select { 
            width: 100%; 
            padding: 10px; 
            background: #1a1a33; 
            border: 2px solid #00ff99; 
            color: #e0e0ff; 
            border-radius: 6px; 
            font-family: 'Lato', sans-serif; 
            font-size: 0.95em; 
        }
        textarea { min-height: 60px; }
        label { display: block; color: #00ff99; margin-bottom: 6px; font-weight: 700; }
        .checkbox-group { display: flex; align-items: center; gap: 12px; }
        .checkbox-group input { width: auto; margin-right: 5px; }
        .slider-container { margin: 15px 0; }
        .slider { width: 100%; accent-color: #00ff99; }
        .slider-value { color: #00ff99; font-weight: 700; font-size: 1em; }
        .status-light { 
            width: 18px; 
            height: 18px; 
            border-radius: 50%; 
            display: inline-block; 
            margin-left: 8px; 
            vertical-align: middle; 
        }
        .green { background: #00ff99; }
        .red { background: #ff5555; }
        .emblem { 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            margin: 12px 0; 
        }
        .emblem img { 
            width: 25px; 
            height: 25px; 
            filter: drop-shadow(0 0 4px #00ff99); 
        }
        .bot-section { display: none; background: #00ff99; color: #0a0a1a; padding: 10px; border-radius: 6px; margin: 10px 0; font-weight: 700; }
        .footer { 
            text-align: center; 
            margin-top: 15px; 
            color: #00ff99; 
            position: relative; 
            z-index: 1; 
            font-size: 0.85em; 
        }
        .error { color: #ff5555; display: none; margin-top: 8px; font-weight: 700; }
        .world-clock { 
            text-align: center; 
            margin: 10px 0; 
            font-size: 0.9em; 
            color: #00ff99; 
        }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="container">
        <div class="left-panel">
            <h1>GoblinReach.Live</h1>
            <div class="price">
                Get High-Ticket Clients on Autopilot<br>
                Compliant, human-like DM automation for elite users.
            </div>
            <div class="stats">
                <div class="stat">Avg. Replies / 100 DMs<br>18-31</div>
                <div class="stat">Active Users<br>444+</div>
                <div class="stat">Compliance<br>Rate-limits</div>
            </div>
            <div class="emblem">
                <img src="https://img.icons8.com/ios-filled/50/00ff99/vpn.png" alt="VPN">
                <input type="checkbox" id="vpn" checked> VPN Active
            </div>
            <div class="emblem">
                <img src="https://img.icons8.com/fluency/48/proxy-server.png" alt="Proxy">
                <input type="checkbox" id="proxy" checked> Proxy Active
            </div>
            <div class="emblem">
                <img src="https://img.icons8.com/ios-filled/50/00ff99/mouse.png" alt="Mouse Wiggler">
                <input type="checkbox" id="mouseWiggler" checked> Auto Mouse Wiggler (24/7 Cloud)
            </div>
            <button onclick="startCheckout()">Start</button>
        </div>
        <div class="right-panel">
            <h2>LIVE Preview: Stable Features</h2>
            <p>Keep 600s between actions for optimal deliverability.</p>
            <div class="input-group checkbox-group">
                <label><input type="checkbox" id="automation" checked> Automation <span id="statusLight" class="status-light green"></span></label>
            </div>
            <div class="input-group">
                <select>
                    <option>users following</option>
                    <option>users followers</option>
                    <option>users who liked a post</option>
                    <option>users who commented on a post</option>
                </select>
            </div>
            <div class="input-group">
                <textarea placeholder="DM Template: Hey {name} - quick on {post}?">Hey {name} - quick on {post}?</textarea>
            </div>
            <div class="input-group">
                <label for="commentTemplate">Custom Comment Template</label>
                <textarea id="commentTemplate" placeholder="Custom Comment Template"></textarea>
            </div>
            <div class="input-group">
                <label for="username">@username</label>
                <input type="text" id="username" placeholder="@username" required>
            </div>
            <div class="slider-container">
                <label for="interval">Send Interval (seconds): <span id="intervalValue" class="slider-value">5</span></label>
                <input type="range" id="interval" min="1" max="6000" value="5" class="slider">
            </div>
            <div class="input-group checkbox-group">
                <label><input type="checkbox"> Send Likes (Secondary)</label>
                <label><input type="checkbox"> Auto Comment (Secondary)</label>
            </div>
            <h3>Social Login</h3>
            <div class="input-group">
                <label for="accessKey">Access Code (from purchase)</label>
                <input type="text" id="accessKey" placeholder="Enter your purchase code" required>
            </div>
            <button id="loginBtn" onclick="socialLogin()">Unlock Instagram Bot</button>
            <p>Enter code received after Stripe checkout to activate bot.</p>
            <div id="botSection" class="bot-section">Instagram Bot Unlocked! Starting automation...<br><button onclick="startBot()">Start Bot</button></div>
            <p id="error" class="error">Invalid code or fields! Check purchase email.</p>
            <div class="world-clock" id="worldClock">World Clock: Loading...</div>
        </div>
    </div>
    <div class="footer">&copy; 2025 GoblinReach.ai | Support | Admin</div>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script>
        // Initialize Stripe with your live publishable key
        const stripe = Stripe('pk_live_51RVG0wBVvxnlfHy5xxD5w3RmXC5rQVjjh0JncfI7V243J0nhtFH53voQPszkopfSCtjdithX8DYXtaf9wnx9Od2p00bMV7J6yB');

        // Start Checkout function
        async function startCheckout() {
            try {
                // Replace with your live backend endpoint (e.g., /create-checkout-session)
                const response = await fetch('https://your-vercel-domain.vercel.app/api/create-checkout-session', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ priceId: 'price_1Rb8YUBVvxnlfHy5htu0ZP80' }) // Your provided Price ID
                });
                const { sessionId } = await response.json();
                const { error } = await stripe.redirectToCheckout({ sessionId });
                if (error) {
                    console.error('Stripe error:', error);
                    alert('Checkout error: ' + error.message + '\nUsing test link as fallback.');
                    window.location.href = 'https://buy.stripe.com/test_5kE5mR5gZ6eN7eM288';
                }
            } catch (err) {
                console.error('Fetch error:', err);
                alert('Checkout failed: ' + err.message + '\nUsing test link as fallback.');
                window.location.href = 'https://buy.stripe.com/test_5kE5mR5gZ6eN7eM288';
            }
        }

        // Matrix rain effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.height = window.innerHeight;
        canvas.width = window.innerWidth;
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const fontSize = 12;
        const columns = canvas.width / fontSize;
        const drops = Array.from({ length: columns }, () => 1);

        function draw() {
            ctx.fillStyle = 'rgba(10, 10, 26, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00ff99';
            ctx.font = fontSize + 'px monospace';
            drops.forEach((y, i) => {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, y * fontSize);
                if (y * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(draw, 33);

        // Slider update
        const intervalSlider = document.getElementById('interval');
        const intervalValue = document.getElementById('intervalValue');
        intervalSlider.addEventListener('input', () => intervalValue.textContent = intervalSlider.value);

        // Status light toggle (Automation only)
        const statusLight = document.getElementById('statusLight');
        document.getElementById('automation').addEventListener('change', () => {
            statusLight.className = 'status-light ' + (document.getElementById('automation').checked ? 'green' : 'red');
        });

        // Mouse Wiggler
        const mouseWigglerCheckbox = document.getElementById('mouseWiggler');
        let wigglerInterval;
        function toggleMouseWiggler() {
            if (mouseWigglerCheckbox.checked) {
                wigglerInterval = setInterval(() => {
                    const event = new MouseEvent('mousemove', { clientX: Math.random() * window.innerWidth, clientY: Math.random() * window.innerHeight });
                    document.dispatchEvent(event);
                }, 60000);
            } else {
                clearInterval(wigglerInterval);
            }
        }
        mouseWigglerCheckbox.addEventListener('change', toggleMouseWiggler);
        if (mouseWigglerCheckbox.checked) toggleMouseWiggler();

        // Unlock function: Mock code validation
        function socialLogin() {
            const username = document.getElementById('username').value;
            const comment = document.getElementById('commentTemplate').value;
            const accessCode = document.getElementById('accessKey').value;
            const error = document.getElementById('error');
            const botSection = document.getElementById('botSection');
            const loginBtn = document.getElementById('loginBtn');

            if (!username.startsWith('@') || username.length < 2 || !comment.trim() || !accessCode.trim()) {
                error.textContent = 'Invalid fields! Please fill all.';
                error.style.display = 'block';
                return;
            }

            if (accessCode === 'GOBLIN123') { // Replace with API fetch('/validate-code', {code: accessCode})
                error.style.display = 'none';
                botSection.style.display = 'block';
                loginBtn.disabled = true;
                loginBtn.textContent = 'Unlocked';
                alert('Instagram Bot Unlocked! Use the Start Bot button to begin automation.');
                setTimeout(() => {
                    botSection.style.display = 'none';
                    loginBtn.disabled = false;
                    loginBtn.textContent = 'Unlock Instagram Bot';
                    alert('Access expired. Renew subscription.');
                }, 432000000); // 5 days
            } else {
                error.textContent = 'Invalid code! Check your purchase email.';
                error.style.display = 'block';
            }
        }

        function startBot() {
            alert('Instagram Bot started! DMs automating to ' + document.getElementById('username').value + ' with template: ' + document.getElementById('commentTemplate').value);
            console.log('Bot running with interval:', document.getElementById('interval').value + 's');
        }

        // World Clock
        function updateWorldClock() {
            const now = moment().utc();
            const cities = [
                { name: 'New York', offset: -4 },
                { name: 'London', offset: 1 },
                { name: 'Tokyo', offset: 9 },
                { name: 'Sydney', offset: 10 }
            ];
            let clockText = 'World Clock: ';
            cities.forEach(city => {
                const localTime = moment(now).utcOffset(city.offset).format('HH:mm');
                clockText += `${city.name}: ${localTime} `;
            });
            document.getElementById('worldClock').textContent = clockText;
        }
        setInterval(updateWorldClock, 1000);
        updateWorldClock();

        window.addEventListener('resize', () => { canvas.height = window.innerHeight; canvas.width = window.innerWidth; });
        window.addEventListener('load', () => console.log('GoblinReach launched bug-free!'));
    </script>
</body>
</html>
